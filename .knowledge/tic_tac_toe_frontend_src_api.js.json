{"is_source_file": true, "format": "JavaScript", "description": "This file contains API helper functions for backend communication and WebSocket management in a React front-end. It handles authentication tokens, API requests, game-specific actions (like starting a new game, making moves, retrieving game state and history), and WebSocket URL retrieval.", "external_files": ["fetch API (built-in browser API)"], "external_methods": ["localStorage.getItem", "fetch"], "published": ["getToken", "apiRequest", "login", "register", "startNewGame", "getGameState", "makeMove", "getGameHistory", "getLeaderboard", "getWebSocketUrl"], "classes": [], "methods": [{"name": "getToken()", "description": "Retrieves the access token from local storage.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, options = {}, tokenRequired = true)", "description": "Performs an API request with optional token authentication; throws an error if response is not OK.", "scope": "", "scopeKind": ""}, {"name": "login(email, password)", "description": "Logs in a user by sending email and password to the backend.", "scope": "", "scopeKind": ""}, {"name": "register(username, email, password)", "description": "Registers a new user with username, email, and password.", "scope": "", "scopeKind": ""}, {"name": "startNewGame(opponentType = 'ai', opponentUsername = null)", "description": "Initiates a new game with specified opponent type and optional opponent username.", "scope": "", "scopeKind": ""}, {"name": "getGameState(gameId)", "description": "Fetches the current state of a game by game ID.", "scope": "", "scopeKind": ""}, {"name": "makeMove(gameId, row, col)", "description": "Sends a move (row and column) for a specified game.", "scope": "", "scopeKind": ""}, {"name": "getGameHistory()", "description": "Retrieves the user's game history.", "scope": "", "scopeKind": ""}, {"name": "getLeaderboard()", "description": "Fetches the leaderboard data.", "scope": "", "scopeKind": ""}, {"name": "getWebSocketUrl()", "description": "Constructs and returns the WebSocket URL for real-time updates.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "fetch", "apiRequest", "apiRequest", "apiRequest", "apiRequest", "apiRequest", "apiRequest", "apiRequest"], "search-terms": ["API helper functions", "WebSocket management", "React front-end", "authentication token", "game state fetch", "move submission", "game history", "leaderboard", "WebSocket URL construction"], "state": 2, "file_id": 13, "knowledge_revision": 26, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.headers", "scopeKind": "class"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export async function apiRequest(path, options = {}, tokenRequired = true) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {}, tokenRequired = true)"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^  const body = { opponent_type: opponentType };$/", "language": "JavaScript", "kind": "class", "scope": "startNewGame", "scopeKind": "class"}, {"_type": "tag", "name": "getGameHistory", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function getGameHistory() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getGameState", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function getGameState(gameId) {$/", "language": "JavaScript", "kind": "function", "signature": "(gameId)"}, {"_type": "tag", "name": "getLeaderboard", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function getLeaderboard() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function getToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getWebSocketUrl", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function getWebSocketUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function login(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}, {"_type": "tag", "name": "makeMove", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function makeMove(gameId, row, col) {$/", "language": "JavaScript", "kind": "function", "signature": "(gameId, row, col)"}, {"_type": "tag", "name": "opponent_type", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^  const body = { opponent_type: opponentType };$/", "language": "JavaScript", "kind": "property", "scope": "startNewGame.body", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function register(username, email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(username, email, password)"}, {"_type": "tag", "name": "startNewGame", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-83811-83821/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function startNewGame(opponentType = 'ai', opponentUsername = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(opponentType = 'ai', opponentUsername = null)"}], "hash": "d5c9d53f4e53a4be968f9f1beb12d049", "format-version": 4, "code-base-name": "tic_tac_toe_frontend", "filename": "tic_tac_toe_frontend/src/api.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "apiRequest.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "const body = { opponent_type: opponentType };", "scope": "startNewGame.body", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"26": ""}]}